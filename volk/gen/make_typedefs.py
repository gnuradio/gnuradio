from xml.dom import minidom
import string
from volk_regexp import *



def make_typedefs(funclist, retlist, my_argtypelist) :
    tempstring = "";
    tempstring = tempstring + '/*this file is auto generated by volk_register.py*/';
    tempstring = tempstring + '/*this file is auto generated by volk_register.py*/';
    tempstring = tempstring + '\n#ifndef INCLUDED_VOLK_TYPEDEFS';
    tempstring = tempstring + '\n#define INCLUDED_VOLK_TYPEDEFS\n';
    tempstring = tempstring + '\n\n#include<inttypes.h>\n';
    tempstring = tempstring + '#include<volk/volk_complex.h>\n';

    tempstring = tempstring + '\n';

    for i in range(len(funclist)):
        tempstring = tempstring + "typedef " + retlist[i] +" (*" + replace_volk.sub("p", funclist[i]) + ")(" + my_argtypelist[i] + ");\n";

    tempstring = tempstring + "#endif /*INCLUDED_VOLK_TYPEDEFS*/\n";

    return tempstring;
