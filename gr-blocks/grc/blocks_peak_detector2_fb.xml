<?xml version="1.0"?>
<!--
###################################################
##Peak Detector2
###################################################
 -->
<block>
	<name>Peak Detector2</name>
	<key>blocks_peak_detector2_fb</key>
	<import>from gnuradio import blocks</import>
	<make>blocks.peak_detector2_fb($threshold_factor_rise, $look_ahead, $alpha, $cont_avg, $fixed_window)</make>
	<callback>set_threshold_factor_rise($threshold_factor_rise)</callback>
	<callback>set_look_ahead($look_ahead)</callback>
	<callback>set_alpha($alpha)</callback>
	<param>
		<name>TH Factor Rise</name>
		<key>threshold_factor_rise</key>
                <value>7</value>
		<type>real</type>
	</param>
	<param>
		<name>Look Ahead</name>
		<key>look_ahead</key>
                <value>1000</value>
		<type>int</type>
	</param>
	<param>
		<name>Alpha</name>
		<key>alpha</key>
                <value>0.001</value>
		<type>real</type>
	</param>
        <param>
        	<name>Average Type</name>
        	<key>cont_avg</key>
        	<value>True</value>
        	<type>enum</type>
        	<option>
          		<name>Continuous</name>
          		<key>True</key>
        	</option>
        	<option>
          		<name>Intermittent</name>
          		<key>False</key>
        	</option>
        </param>
        <param>
        	<name>Look Ahead Type</name>
        	<key>fixed_window</key>
        	<value>True</value>
        	<type>enum</type>
        	<option>
          		<name>Fixed</name>
          		<key>True</key>
        	</option>
        	<option>
          		<name>Sliding</name>
          		<key>False</key>
        	</option>
        </param>
        <param>
            <name>Debug</name>
            <key>debug</key>
            <value>True</value>
            <type>enum</type>
            <hide>part</hide>
            <option>
              <name>No</name>
              <key>True</key>
            </option>
            <option>
              <name>Yes</name>
              <key>False</key>
            </option>
          </param>

	<sink>
		<name>in</name>
		<type>float</type>
	</sink>

	<source>
		<name>out</name>
		<type>byte</type>
	</source>
	<source>
		<name>sigout</name>
		<type>float</type>
                <optional>1</optional>
                <hide>$debug</hide>
	</source>
</block>
